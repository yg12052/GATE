<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>BREATHE</title>

<style>
:root{
  --bg1:#07070a;
  --bg2:#12121a;
  --ink:#d8caa6;
  --gold:#e0c36b;
  --mist: rgba(210, 230, 255, 0.12);
  --mist2: rgba(140, 190, 255, 0.08);
}

*{ box-sizing:border-box; }

body{
  margin:0;
  min-height:100vh;
  background:
    radial-gradient(circle at 50% 30%, var(--bg2) 0%, var(--bg1) 70%);
  color:var(--ink);
  font-family: Georgia, serif;
  overflow-x:hidden;
  position:relative;
}

/* vignette */
body::before{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  background:
    radial-gradient(circle at center, rgba(0,0,0,0) 0%, rgba(0,0,0,0.55) 70%, rgba(0,0,0,0.86) 100%);
  z-index:0;
}

/* drifting mist layer */
.mist{
  position:fixed;
  inset:-20%;
  background:
    radial-gradient(circle at 40% 40%, var(--mist) 0%, rgba(0,0,0,0) 55%),
    radial-gradient(circle at 70% 55%, var(--mist2) 0%, rgba(0,0,0,0) 60%),
    radial-gradient(circle at 55% 70%, rgba(220, 240, 255, 0.06) 0%, rgba(0,0,0,0) 62%);
  filter: blur(18px);
  opacity:0.35;
  animation: drift 18s ease-in-out infinite alternate;
  pointer-events:none;
  z-index:1;
}
@keyframes drift{
  from { transform: translate3d(-2%, -1%, 0) scale(1.02); }
  to   { transform: translate3d(2%, 1%, 0) scale(1.05); }
}

/* click overlay */
#startOverlay{
  position:fixed;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  background:#000;
  color:var(--gold);
  font-size:22px;
  letter-spacing:2px;
  cursor:pointer;
  z-index:9999;
  transition:opacity 1.5s ease;
  text-align:center;
  padding:24px;
}
#startOverlay small{
  display:block;
  margin-top:14px;
  opacity:0.7;
  letter-spacing:1px;
  font-size:14px;
}

/* flash */
.flash{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:9998;
  opacity:0;
  mix-blend-mode:screen;
  background: radial-gradient(circle at center,
    rgba(220,245,255,0.95) 0%,
    rgba(180,225,255,0.70) 22%,
    rgba(120,190,255,0.35) 45%,
    rgba(0,0,0,0) 75%);
}
.flash.active{
  animation: airFlash 2.2s cubic-bezier(.05,.95,.2,1) forwards;
}
@keyframes airFlash{
  0%   { opacity:0; filter: blur(0px); }
  10%  { opacity:1; filter: blur(0px); }
  35%  { opacity:0.55; filter: blur(2px); }
  100% { opacity:0; filter: blur(0px); }
}

.container{
  position:relative;
  z-index:2;
  max-width:900px;
  margin:0 auto;
  padding:86px 22px 120px;
  text-align:center;
  opacity:0;
  transform: translateY(14px);
  animation: sceneIn 2.2s ease-out 0.5s forwards;
}
@keyframes sceneIn{
  to{ opacity:1; transform: translateY(0); }
}

h1{
  margin:0 0 10px 0;
  font-size:52px;
  color:var(--gold);
  letter-spacing:1px;
  text-shadow:0 0 24px rgba(224,195,107,0.18);
}
.sub{
  margin:0 0 28px 0;
  opacity:0.75;
  font-size:15px;
  letter-spacing:2px;
  text-transform:uppercase;
}

.divider{
  width:190px;
  height:1px;
  background:rgba(224,195,107,0.35);
  margin:18px auto 34px auto;
}

p{
  font-size:20px;
  line-height:1.95;
  margin:0 0 18px 0;
  opacity:0;
  transform:translateY(8px);
  filter:blur(1px);
  animation: paraIn 1.1s ease-out forwards;
}
p:nth-of-type(1){animation-delay:1.4s;}
p:nth-of-type(2){animation-delay:1.8s;}
p:nth-of-type(3){animation-delay:2.2s;}
p:nth-of-type(4){animation-delay:2.6s;}
p:nth-of-type(5){animation-delay:3.0s;}

@keyframes paraIn{
  to{ opacity:1; transform:translateY(0); filter:blur(0); }
}

/* “air hint” — reveals when mouse is near the top */
.whisper{
  position:fixed;
  top:18px;
  left:0;
  right:0;
  text-align:center;
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  letter-spacing:3px;
  font-size:12px;
  opacity:0;
  transform: translateY(-6px);
  transition: opacity .4s ease, transform .4s ease;
  pointer-events:none;
  color: rgba(210, 230, 255, 0.65);
  text-shadow: 0 0 18px rgba(160,210,255,0.25);
  z-index:3;
}
.whisper.show{
  opacity:1;
  transform: translateY(0);
}

/* challenge card */
.card{
  margin:44px auto 0;
  max-width:720px;
  border:1px solid rgba(224,195,107,0.25);
  border-radius:18px;
  padding:22px 18px;
  background: rgba(10,10,14,0.35);
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}
.card h2{
  margin:0 0 10px 0;
  font-size:18px;
  letter-spacing:2px;
  text-transform:uppercase;
  color: rgba(224,195,107,0.9);
}
.card p{
  opacity:1;
  transform:none;
  filter:none;
  animation:none;
  margin:0;
  font-size:18px;
  line-height:1.8;
}

/* small input (optional gate-lock) */
.lockRow{
  margin-top:16px;
  display:flex;
  gap:10px;
  justify-content:center;
  align-items:center;
  flex-wrap:wrap;
}
.lockRow input{
  width:min(320px, 90vw);
  padding:12px 14px;
  border-radius:12px;
  border:1px solid rgba(210, 230, 255, 0.18);
  background: rgba(0,0,0,0.35);
  color: var(--ink);
  outline:none;
  font-size:16px;
}
.lockRow button{
  padding:12px 16px;
  border-radius:12px;
  border:1px solid rgba(224,195,107,0.28);
  background: rgba(224,195,107,0.12);
  color: var(--gold);
  cursor:pointer;
  font-size:14px;
  letter-spacing:1px;
}
.lockRow button:hover{
  background: rgba(224,195,107,0.18);
}
.status{
  margin-top:10px;
  font-size:14px;
  opacity:0.75;
  min-height:18px;
}

/* footer note */
.footer{
  margin-top:58px;
  opacity:0.55;
  font-size:13px;
  letter-spacing:1px;
}
</style>
</head>

<body>
<div class="mist"></div>
<div class="flash" id="flashEffect"></div>

<!-- Reuse your wind file here (set the correct path) -->
<audio id="windAudio" loop>
  <!-- update path if needed: e.g. audio/wind_layer_final.wav -->
  <source src="wind_layer_final.wav" type="audio/wav">
</audio>

<div id="startOverlay" onclick="startExperience()">
  Click to Breathe
  <small>Do not rush. Do not force.</small>
</div>

<div class="whisper" id="whisper">THE FIRST TRIAL IS MOVEMENT</div>

<div class="container" id="scene">
  <div class="sub">Gate I</div>
  <h1>BREATHE</h1>
  <div class="divider"></div>

  <p><em>The page turns on its own.</em></p>
  <p>Air is not a thing you hold.</p>
  <p>It is what slips between certainty — and makes it change shape.</p>
  <p>If you try to pin it down, you will lose it.</p>
  <p>So don’t chase the answer. <br>Chase the motion.</p>

  <div class="card">
    <h2>Air Trial 01</h2>
    <p>
      The gate is already open.<br>
      Your problem is that you’re looking for a door.
      <br><br>
      <span style="opacity:.8">Hint:</span> <span style="opacity:.9">“Air teaches by reaction.”</span>
    </p>

    <!-- Optional lock: you can delete this block if you want pure puzzle-only -->
    <div class="lockRow">
      <input id="codeInput" type="text" placeholder="Enter the word the air accepts..." autocomplete="off" />
      <button onclick="checkCode()">UNLOCK</button>
    </div>
    <div class="status" id="status"></div>
  </div>

  <div class="footer">
    If nothing changes… you are not interacting with the page correctly.
  </div>
</div>

<script>
function startExperience(){
  const overlay = document.getElementById("startOverlay");
  const audio   = document.getElementById("windAudio");
  const flash   = document.getElementById("flashEffect");

  overlay.style.opacity = "0";
  setTimeout(()=> overlay.remove(),1500);

  flash.classList.add("active");

  audio.volume = 0;
  audio.play();

  // gentle fade in
  let fade = setInterval(function(){
    if(audio.volume < 0.18){
      audio.volume += 0.01;
    } else {
      clearInterval(fade);
    }
  }, 140);
}

// Show whisper when mouse is near top (teaches “movement” without telling them everything)
document.addEventListener("mousemove", (e)=>{
  const w = document.getElementById("whisper");
  if(e.clientY < 90) w.classList.add("show");
  else w.classList.remove("show");
});

// OPTIONAL: simple “soft lock” placeholder.
// Replace ACCEPTED with whatever you want later, or remove this feature entirely.
function checkCode(){
  const v = (document.getElementById("codeInput").value || "").trim().toUpperCase();
  const s = document.getElementById("status");

  // placeholder: change later
  const ACCEPTED = "WIND";

  if(!v){
    s.textContent = "The air waits.";
    return;
  }

  if(v === ACCEPTED){
    s.textContent = "Accepted. The air shifts…";
    // TODO: redirect to first real Air puzzle page when ready:
    // window.location.href = "air_01.html";
  }else{
    s.textContent = "Rejected. Try a lighter thought.";
  }
}
</script>
</body>
</html>
